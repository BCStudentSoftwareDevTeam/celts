<h2 class="text-center pt-4 pb-2"> New Proposal For Service-Learning Course</h2>
<p class="text-center fw-bold"> Please review the <a class="guidelines" href="#">service-learning course guidelines</a> before completing this form </p>
<div class="container-fluid">
  <div class="row">
    <div class="p-2 col-md-6">
      <label for="courseInstructor">Course Instructor(s)</label>
      <input
        id="courseInstructor"
        class="form-control"
        type="search"
        placeholder="Search instructor"
        value="" />
      <table
        class="table mb-3"
        id="instructorTable"
        name="instructorTable">
        <thead>
          <tr>
            <th scope="col">Instructor</th>
            <th scope="col"></th>
          </tr>
        </thead>
        <tbody>
            <tr data-username="" hidden>
                <td>
                  <p class="mb-0"></p>
                    <input type="text" style="border: none" size="14" class="form-control-sm" id="" name="courseInstructorPhone" aria-label="Instructor Phone" data-value="" value="" placeholder="Phone Number" />
                    <a class="text-decoration-none primary editButton" tabindex="0" data-username=""  id=""  type="button">Edit</a>
                </td>
                <td class="align-middle">
                    <button id="remove" type="button" class="btn btn-danger removeButton">Remove</button>
                </td>

            </tr>
            {% for instructor in courseInstructor %}
            <tr data-username="{{instructor.user.username}}">
              <td>
                <p class="mb-0">{{instructor.user.firstName}} {{instructor.user.lastName}} ({{instructor.user.email}})</p>
                  <input type="text" style="border: none" size="14" class="form-control-sm" id="inputPhoneNumber-{{instructor.user}}" name="courseInstructorPhone" aria-label="Instructor Phone" data-value="{{instructor.user.phoneNumber}}" value="{{instructor.user.phoneNumber}}" placeholder="Phone Number" />
                  <a class="text-decoration-none primary editButton" tabindex="0" data-username="{{instructor.user}}"  id="editButton-{{instructor.user}}"  type="button">Edit</a>
              </td>
              <td class="align-middle">
                  <button id="remove" type="button" class="btn btn-danger removeButton">Remove</button>
              </td>

            </tr>
            {% endfor %}
        </tbody>

      </table>
      <label for="courseName" class="pt-3">Course Name</label>
      <input
        class="form-control"
        name="courseName"
        type="text"
        value="{{course.courseName}}"
        required/>
      <label for="courseAbbreviation" class="pt-3">Course Abbreviation</label>
      <input
        class="form-control"
        id="courseAbbreviation"
        name="courseAbbreviation"
        value="{{course.courseAbbreviation}}"
        type="text"
        />
      <label for="credit" class="pt-3">Credit</label>
      <input
        class="form-control"
        id="credit"
        name="credit"
        value="{{course.courseCredit}}"
        type="number"
        min="0"
        required/>
        <label for="isRegularlyOccurring" class="pt-3">This course will be taught:</label>
        <div class="row col-md-8" >
          <div class="form-group col-md-3">
            <div class="form-check">
              <input class="form-check-input" type="radio" id="regularly" name="isRegularlyOccurring" value="1"
              {{ "checked" if course.isRegularlyOccurring }}>
              <label class="form-check-label"> Regularly </label>
            </div>
          </div>
          <div class="form-group col-md-9">
            <div class="form-check">
              <input class="form-check-input" type="radio" id="one-time" name="isRegularlyOccurring" value="0"
                {{ "checked" if not course.isRegularlyOccurring }}>
              <label class="form-check-label"> One-Time Special Topics/4-week course offering </label>
            </div>
          </div>
        </div>
        <label for="syllabus" class="pt-3">Please upload a copy of the course syllabus.</label>
        <button class="btn btn-primary" type="button"id="syllabusUploadButton">Upload</button>
        {% if filepaths %}
        <div class="form-group mb-5">
          <label class="mb-2" for= "courseAttachments"><strong>Course Attachments</strong></label>
          <table>
              {% for key, value in filepaths.items() %}
                  <tr id="attachment_{{value[1]}}" class="attachmentRow_{{key}}" data-id= "{{key}}">
                      <td class="pr-5">
                          <a class="mr-5" href="{{value[0]}}" target="_blank">{{key}}</a>
                      </td>
                      <td style="text-align:center">
                        <button
                          data-id="{{value[1]}}"
                          type="button"
                          class="removeAttachment btn btn-danger btn-sm"
                          id={{course.id}}>
                            <i class="bi bi-trash h5 align-middle"></i>
                        </button>
                      </td>
                  </tr>
              {% endfor %}
          </table>
        </div>
        {% endif %}
    </div>
    <div class="p-2 col-md-6">
      <label for="inputCourseInstructor">When will this course be offered?</label>
      <select
        class="dropdown form-control mb-3"
        id="inputCourseInstructor"
        value="{{course.term.description}}"
        name="term">
        {% for term in terms %}
          <option value="{{ term.id }}" {{ "selected" if course.term == term }}> {{ term.description }}</option>
        {% endfor %}
      </select>
      <div class="pb-3">
      <label for="sectionDesignation">Section Designation (if applicable).</label>
      <input
        class="form-control"
        id="sectionDesignation"
        name="sectionDesignation"
        value="{{course.sectionDesignation}}"
        type="text"
        />
      </div>
      <div class="form-check form-switch pb-3">
        <label for="whichAreSL">All sections will have a service-learning designation.</label>
        <input
          class="form-check-input"
          type="checkbox"
          id="allSectionsSL"
          name="slSectionsToggle" {{"checked" if isAllSectionsServiceLearning}}/>
      </div>
      <div class="pb-4" id="slDesignationGroup">
        <label class="pt-2" for="slDesignation" >Which sections will have a service-learning designation?</label>
        <textarea
          class="form-control"
          id="slDesignation"
          name="slDesignation"
          rows="1">{{course.serviceLearningDesignatedSections}}</textarea>
      </div>
      <label class="pb-2" for="previouslyApproved">Has this course been previously approved as a service-learning course?</label>
      <div id="previouslyApprovedGroup">
        <div class="form-check pb-1">
          <input class="form-check-input" type="radio" id="PreviouslyApproved" name="isPreviouslyApproved" value=1
          {{"checked" if course.isPreviouslyApproved}}>
            Yes, this course has been previously approved as a service-learning course.
          </input>
        </div>
        <div class="form-check pb-4">
          <input class="form-check-input" type="radio" id="notPreviouslyApproved" name="isPreviouslyApproved" value=0
          {{"checked" if not course.isPreviouslyApproved}}>
            No, this course has never been approved as a service-learning course.
          </input>
        </div>
      </div>
      <div id="previouslyApprovedProposal">
        <p>When was the course approved previously? Also, please describe the service-learning project you
        plan for the upcoming course, including identification of the community partner organization(s).</p>
        <textarea
          class="form-control"
          id="previouslyApprovedDescription"
          name="previouslyApprovedDescription"
          rows="3">{{course.previouslyApprovedDescription}}</textarea>
      </div>
    </div>
  </div>
  <input value={{course.id}} name="courseID" hidden/>
</div>
