{%set title ="Service Transcript"%}
{% extends "base.html"%}

{% block app_content %}
<div class="w-100 d-print-inline-block">
<h1 class="text-center mt-5 mb-3">{{userData.firstName}} {{userData.lastName}}</h1>
{% if programs %}
    {% for program in programs %}
        {% if not (programs[program][0][1] == None and programs[program]|length == 1) %}
          <div class="card-body">
            <h5 class="card-title">{{program.programName}}</h5>
            {% for item in programs[program] %}
                {% if item[1] != None%}
                    <h6 class="card-subtitle mb-2 text-muted"> {{item[0]}} - {{item[1]|round(2)}} hour(s)</h6>
                {% endif %}
            {% endfor %}
            <p class="card-text">{{program.description}}</p>
            <a class="d-print-none" href="{{program.url}}" class="card-link">More Information</a>
          </div>
        {% endif %}
    {% endfor %}
{% endif %}

{% if otherData %}
  <div class="card-body">
    <h5 class="card-title">Other Celts Sponsored Events</h5>
    {% for term in otherData %}
        <h6 class="card-subtitle mb-2 text-muted"> {{term[0]}} - {{term[1]}} hour(s)</h6>
    {% endfor %}
    <p class="card-text">Blah</p>
    <a class="d-print-none" href="#" class="card-link">More Information</a>
  </div>
{% endif %}

{% if bonnerData.exists() %}
  <h2 class="m-1">Bonner Scholar Events</h2>
  <table class="table table-bordered table-striped">
    <tr>
      <th>Event Name</th>
      <th>Term</th>
      <th>Accrued Hours</th>
    </tr>

    {% for programEvent in bonnerData %}
    <tr>
      <td>{{ programEvent.event.name }}</td>
      <td>{{ programEvent.event.term.description}} </td>
      <td class="w-25"> {{programEvent.hoursEarned}} </td>
    </tr>
    {% endfor %}
  </table>
{% endif %}

{% if slCourses.exists() %}
  <br><h2 class="m-1">Service-Learning Courses</h2>
  <table class="table table-bordered table-striped">
    <tr>
      <th>Course Name</th>
      <th>Term</th>
      <th class="w-25">Accrued Hours</th>
    </tr>
    {% for slcourse in slCourses %}
    <tr>
      <td> {{ slcourse.courseName }}</td>
      <td> {{ slcourse.term.description }}</td>
      <td class="w-25">{{ slcourse.hoursEarned }}</td>
    </tr>
    {% endfor %}
  </table>
{% endif %}



<div class="pt-4">
  {% if startDate == "N/A" %}
    <p>No Volunteer Record</p>
  {% else %}
    <p>*Volunteering since {{ startDate }}</p>
  {% endif %}
</div>
<div class="float-end">
  <button type="button" class="btn btn-primary d-print-none" onclick="window.print()"><span class="bi bi-printer d-print-none"></span> Print</button>
  <p class="fw-bold pb-3 d-inline">Total Hours:</p>
  <p class="d-inline bg-light ps-2 pe-5 border-bottom" id="hourTotal">{{ totalHours|round(2) }}</p>
</div>
<div class="d-print-none pt-5">
  <p>If there are any corrections that need to be made, contact <a href="mailto:cochranea@berea.edu">Ashley Cochrane</a></p>
</div>
</div>


{% endblock %}
