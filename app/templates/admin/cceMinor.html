{% set title = "CCE Management" %}
{% extends "base.html" %}

{% block scripts %}
  {{super()}}
  <script type="module" src="/static/js/minorRequirements.js"></script>
  <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.js"></script>

  {% block styles %}
    {{super()}}
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.css">
  {% endblock %}
{% endblock %}
{% block app_content %}

    {# Figure out if we are showing a particular tab inside of the accordion #}
    {% set subtab =  visibleAccordion[7:] if visibleAccordion and "cohort-" in visibleAccordion else "newest" %}
    {% set visible_tab = subtab if visibleAccordion and subtab == "first" or subtab|int != 0 else "none" %}

    <h1 class="text-center mb-5">CCE Minor Management</h1>

    <h2>Engaged Students</h2>
    <table class="display" id="engagedStudentsTable">
        <thead>
            <tr>
                <th>Name</th>
                <th>requirements met</th>
                <th>Competed</th>
            </tr>
        </thead>
        <tbody>
            {% for student in engagedStudentList %}
            <tr>
                <td>
                    <a href="/profile/{{student.username}}/cceMinor" target="_blank">{{ student.firstName }} {{ student.lastName }}</a>
                </td>
                <td>{{ student.requirementCount }}/5 </td>
                <td>Data 3</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <br>
    <h2>Interested Students</h2>
    <table class="display" id="interestedStudentsTable">
        <thead>
            <tr>
                <th>Name</th>
            </tr>
        </thead>
        <tbody>
            {% for student in interestedStudentsList %}
                <tr>
                    <td>
                        <a href="/profile/{{student.username}}/cceMinor" target="_blank">{{ student.firstName }} {{ student.lastName }}</a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

{% endblock %}
